<div class="forgot-password-form">
  <div class="forgot-password-form__container">
    <div class="forgot-password-form__header">
      <h1 class="forgot-password-form__title">Réinitialiser le mot de passe</h1>
      <p class="forgot-password-form__subtitle">
        Saisissez l'adresse e-mail associée à votre compte pour recevoir un lien de réinitialisation.
      </p>
    </div>

    <form
      [formGroup]="forgotPasswordForm"
      (ngSubmit)="onSubmit()"
      class="forgot-password-form__form"
      novalidate
    >
      @if (requestSent) {
        <p class="forgot-password-form__feedback">
          Si un compte correspond à cet email, un message vient d'être envoyé pour réinitialiser votre mot de passe.
        </p>
      }

      <div class="forgot-password-form__fields">
        <app-text-input
          label="Email"
          placeholder="Entrez votre email"
          type="email"
          size="large"
          variant="outlined"
          formControlName="email"
          [isRequired]="true"
          (inputBlur)="forgotPasswordForm.get('email')?.markAsTouched()"
          [errorMessage]="getErrorMessage('email')"
        >
        </app-text-input>
      </div>

      <div class="forgot-password-form__actions">
        <app-button
          color="primary"
          size="lg"
          radius="border_lg"
          text="Envoyer le lien"
          [isDisabled]="isSubmitting"
          type="standard"
        >
        </app-button>
      </div>

      <div class="forgot-password-form__footer">
        <button type="button" class="forgot-password-form__link" (click)="navigateToLogin()">
          Revenir à la connexion
        </button>
      </div>
    </form>
  </div>
</div>
