<header
  class="topbar"
  [ngClass]="[
    bp.isMobile() ? 'is-mobile' : '',
    bp.isTablet() ? 'is-tablet' : '',
    bp.isDesktop() ? 'is-desktop' : '',
    (bp.isDesktop() || bp.isTablet()) && isHomeOrArticlePage ? 'topbar--desktop-home' : 'hola',
  ]"
>
  <div class="topbar__left">
    @if ((bp.isMobile() && isHomeOrArticlePage) || !bp.isMobile()) {
      <img src="/icon/logo_desktop.svg" alt="logo" class="topbar__logo" routerLink="/" />
    } @else {
      <a routerLink="/back" class="topbar__link">
        <app-icon name="arrow_back" [size]="iconSize()" />
      </a>
    }
    @if (!bp.isMobileOrTablet() && !isHomeOrArticlePage) {
      <div class="topbar__center">
        <div class="search-bar">
          <span class="search-bar__icon material-symbols-outlined">search</span>
          <input type="text" class="search-bar__input" placeholder="Hinted search text" />
        </div>
      </div>
    }
  </div>

  <div class="topbar__right">
    @if (bp.isDesktop() || bp.isTablet()) {
      <nav class="topbar__menu">
        <a routerLink="/travels" class="topbar__link">
          <app-icon name="language" [size]="iconSize()" />
          Mappemonde
        </a>
        <a routerLink="/articles" class="topbar__link">
          <app-icon name="map_search" [size]="iconSize()" />
          Articles
        </a>
        @if (canDisplayDiariesLink) {
          <a [routerLink]="['/travels/users', currentUserId()]" class="topbar__link">
            <app-icon name="import_contacts" [size]="iconSize()" />
            Mes carnets
          </a>
        }
      </nav>
      <div class="topbar__actions">
        @if (isAuthenticated()) {
          <a routerLink="/me" class="topbar__profile">
            <app-avatar
              [label]="avatarLabel()"
              [picture]="avatarPicture()"
              [size]="bp.isMobileOrTablet() ? 'compact' : 'default'"
            />
          </a>
          <app-button
            [type]="'standard'"
            [size]="btnSize()"
            color="secondary"
            text="Déconnexion"
            (btnClick)="onLogout()"
          />
        } @else {
          <app-button
            [type]="'standard'"
            [size]="btnSize()"
            color="secondary"
            text="Connexion"
            (btnClick)="onNavigateToLogin()"
          />
        }
      </div>
    } @else {
      <nav class="topbar__menu">
        <a routerLink="/travels" class="topbar__link__mobile">
          <app-icon name="language" [size]="iconSize()" />
        </a>
        <a routerLink="/articles" class="topbar__link__mobile">
          <app-icon name="map_search" [size]="iconSize()" />
        </a>
        @if (canDisplayDiariesLink) {
          <a [routerLink]="['/travels/users', currentUserId()]" class="topbar__link__mobile">
            <app-icon name="import_contacts" [size]="iconSize()" />
          </a>
        }
      </nav>
      <div class="topbar__actions">
        @if (isAuthenticated()) {
          <a routerLink="/me" class="topbar__profile">
            <app-avatar
              [label]="avatarLabel()"
              [picture]="avatarPicture()"
              size="compact"
            />
          </a>
          <app-button
            [type]="'standard'"
            size="sm"
            color="secondary"
            text="Déconnexion"
            (btnClick)="onLogout()"
          />
        } @else {
          <app-button
            [type]="'standard'"
            size="sm"
            color="secondary"
            text="Connexion"
            (btnClick)="onNavigateToLogin()"
          />
        }
      </div>
    }
  </div>
</header>
